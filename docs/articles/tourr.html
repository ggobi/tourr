<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Introduction to tourr â€¢ tourr</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Introduction to tourr">
<meta property="og:description" content="">
<meta property="og:image" content="/logo.png">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">tourr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.6.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/tourr.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/edges.html">Edges in scatterplot displays</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/ggobi/tourr">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="tourr_files/accessible-code-block-0.0.1/empty-anchor.js"></script><link href="tourr_files/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet">
<script src="tourr_files/anchor-sections-1.0.1/anchor-sections.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Introduction to tourr</h1>
                        <h4 class="author">Ursula Laa</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/ggobi/tourr/blob/master/vignettes/tourr.Rmd"><code>vignettes/tourr.Rmd</code></a></small>
      <div class="hidden name"><code>tourr.Rmd</code></div>

    </div>

    
    
<p>A tour animates a display of interpolated low-dimensional projections from high-dimensional data, to explore the shape of the multivariate distribution. The shape might be elliptical if the distribution is roughly normal, or there may be clusters corresponding to grouping the data according to known or unknown variables. There might be outliers, the can be identified because they are separated from the other observations, or move on different paths that other points. It may be that there are curvilinear patterns indicating nonlinear association between some variables.</p>
<p>This vignette shows how to use the <code>tourr</code> package to generate animations using different tour and display types.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(tourr)</span></code></pre></div>
<div id="quick-start" class="section level2">
<h2 class="hasAnchor">
<a href="#quick-start" class="anchor"></a>Quick start</h2>
<p>To get started we can simply generate a tour animation for any numeric data matrix with default settings. Here we look at the flea data available in the package, drop the last column (the grouping variable), and call</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a>f &lt;-<span class="st"> </span>flea[, <span class="dv">1</span><span class="op">:</span><span class="dv">6</span>]</span>
<span id="cb2-2"><a href="#cb2-2"></a><span class="kw"><a href="../reference/animate.html">animate</a></span>(f)</span>
<span id="cb2-3"><a href="#cb2-3"></a><span class="co">#&gt; Converting input data to the required matrix format.</span></span>
<span id="cb2-4"><a href="#cb2-4"></a><span class="co">#&gt; Using half_range 0.98</span></span></code></pre></div>
<p><img src="tourr_files/figure-html/unnamed-chunk-2-1.png" width="700"></p>
<p>Here we only see the first frame that is generated on the tour path, but if you call <code>animate</code> in your console you will launch a tour animation that you can view in your graphics window.</p>
<p>We could have also launched the same tour by specifying the default selection explicitly</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="kw"><a href="../reference/animate.html">animate</a></span>(f,</span>
<span id="cb3-2"><a href="#cb3-2"></a>        <span class="dt">tour_path =</span> <span class="kw"><a href="../reference/grand_tour.html">grand_tour</a></span>(),</span>
<span id="cb3-3"><a href="#cb3-3"></a>        <span class="dt">display =</span> <span class="kw"><a href="../reference/display_xy.html">display_xy</a></span>()</span>
<span id="cb3-4"><a href="#cb3-4"></a>        )</span>
<span id="cb3-5"><a href="#cb3-5"></a><span class="co">#&gt; Converting input data to the required matrix format.</span></span>
<span id="cb3-6"><a href="#cb3-6"></a><span class="co">#&gt; Using half_range 0.98</span></span></code></pre></div>
<p><img src="tourr_files/figure-html/unnamed-chunk-3-1.png" width="700"></p>
<p>The most common application is to use a grand tour, which means that the projections (or bases) are randomly selected and give a global overview of the distribution. The default display is a two-dimensional scatterplot display.</p>
</div>
<div id="tour-types" class="section level2">
<h2 class="hasAnchor">
<a href="#tour-types" class="anchor"></a>Tour types</h2>
<p>As we have seen, the default tour type is a grand tour. By selecting the second argument, <code>tour_path</code>, in the animate function we can change this, choosing from the tour types that have been implemented in the package. The most relevant options are:</p>
<ul>
<li>grand tour: randomly selected bases</li>
<li>guided tour: basis selection is optimising an index function</li>
<li>planned tour: interpolates between a set of input bases</li>
<li>little tour: a planned tour between all axis parallel projections</li>
<li>local tour: alternating between the starting projection and randomly selected nearby projections</li>
</ul>
<p>For example, the guided tour can be used to move towards more interesting views of the distribution as the animation progresses. To measure the interestingness of each projection we need to define an index function which will get maximised along the tour path. You can define your own index function, or use one of those available in the <code>tourr</code> package. For our example flea data we can use the holes index which is looking for projections with low densities near the center, and can often find views that reveal clustering.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="kw"><a href="../reference/animate.html">animate</a></span>(f,</span>
<span id="cb4-2"><a href="#cb4-2"></a>        <span class="dt">tour_path =</span> <span class="kw"><a href="../reference/guided_tour.html">guided_tour</a></span>(<span class="kw"><a href="../reference/holes.html">holes</a></span>()),</span>
<span id="cb4-3"><a href="#cb4-3"></a>        <span class="dt">display =</span> <span class="kw"><a href="../reference/display_xy.html">display_xy</a></span>())</span>
<span id="cb4-4"><a href="#cb4-4"></a><span class="co">#&gt; Converting input data to the required matrix format.</span></span>
<span id="cb4-5"><a href="#cb4-5"></a><span class="co">#&gt; Value  0.839   7.6 % better  - NEW BASIS</span></span>
<span id="cb4-6"><a href="#cb4-6"></a><span class="co">#&gt; Using half_range 0.98</span></span></code></pre></div>
<p><img src="tourr_files/figure-html/unnamed-chunk-4-1.png" width="700"></p>
<p>When running the full guided tour for this example, the final view shows three clusters that correspond to the three species in the dataset. By mapping the species to color we can see how the groups get teased apart in the guided tour.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a><span class="kw"><a href="../reference/animate.html">animate</a></span>(f,</span>
<span id="cb5-2"><a href="#cb5-2"></a>        <span class="dt">tour_path =</span> <span class="kw"><a href="../reference/guided_tour.html">guided_tour</a></span>(<span class="kw"><a href="../reference/holes.html">holes</a></span>()),</span>
<span id="cb5-3"><a href="#cb5-3"></a>        <span class="dt">display =</span> <span class="kw"><a href="../reference/display_xy.html">display_xy</a></span>(<span class="dt">col =</span> flea<span class="op">$</span>species))</span>
<span id="cb5-4"><a href="#cb5-4"></a><span class="co">#&gt; Converting input data to the required matrix format.</span></span>
<span id="cb5-5"><a href="#cb5-5"></a><span class="co">#&gt; Value  0.502   68.2 % better  - NEW BASIS</span></span>
<span id="cb5-6"><a href="#cb5-6"></a><span class="co">#&gt; Using half_range 0.98</span></span></code></pre></div>
<p><img src="tourr_files/figure-html/unnamed-chunk-5-1.png" width="700"></p>
<p>Alternatively, a colour vector can be created manually and passed into the guided tour.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a><span class="co"># defining the color palette</span></span>
<span id="cb6-2"><a href="#cb6-2"></a>clrs &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"#486030"</span>, <span class="st">"#c03018"</span>, <span class="st">"#f0a800"</span>)</span>
<span id="cb6-3"><a href="#cb6-3"></a><span class="co"># mapping the species vector onto a color vector</span></span>
<span id="cb6-4"><a href="#cb6-4"></a>flea_col &lt;-<span class="st"> </span>clrs[<span class="kw"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span>(flea<span class="op">$</span>species)]</span>
<span id="cb6-5"><a href="#cb6-5"></a><span class="co"># the color vector specifies the color for each point</span></span>
<span id="cb6-6"><a href="#cb6-6"></a><span class="co"># and gets passed into the display function</span></span>
<span id="cb6-7"><a href="#cb6-7"></a><span class="kw"><a href="../reference/animate.html">animate</a></span>(f,</span>
<span id="cb6-8"><a href="#cb6-8"></a>        <span class="dt">tour_path =</span> <span class="kw"><a href="../reference/guided_tour.html">guided_tour</a></span>(<span class="kw"><a href="../reference/holes.html">holes</a></span>()),</span>
<span id="cb6-9"><a href="#cb6-9"></a>        <span class="dt">display =</span> <span class="kw"><a href="../reference/display_xy.html">display_xy</a></span>(<span class="dt">col =</span> flea_col))</span>
<span id="cb6-10"><a href="#cb6-10"></a><span class="co">#&gt; Converting input data to the required matrix format.</span></span>
<span id="cb6-11"><a href="#cb6-11"></a><span class="co">#&gt; Value  0.707   57.5 % better  - NEW BASIS</span></span>
<span id="cb6-12"><a href="#cb6-12"></a><span class="co">#&gt; Using half_range 0.98</span></span></code></pre></div>
<p><img src="tourr_files/figure-html/unnamed-chunk-6-1.png" width="700"></p>
</div>
<div id="display-types" class="section level2">
<h2 class="hasAnchor">
<a href="#display-types" class="anchor"></a>Display types</h2>
<p>The default display is showing a scatterplot of the data projected to 2D. Depending on the number of dimensions we project onto (this is called d), we can choose different display types. For example, we could look at 1D projections in a density display, a 3D projection using depth cues, or higher dimensional projections in a parallel coordinate or scatterplot matrix display.</p>
<p>When changing the display type via the <code>display</code> argument, we need to make sure that the basis generation is matching the corresponding number of dimensions d.Â We can pass in this infromation when generating the tour path. To work with 1D projections and a density display, we can launch the animation as</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a><span class="kw"><a href="../reference/animate.html">animate</a></span>(f,</span>
<span id="cb7-2"><a href="#cb7-2"></a>        <span class="dt">tour_path =</span> <span class="kw"><a href="../reference/grand_tour.html">grand_tour</a></span>(<span class="dt">d =</span> <span class="dv">1</span>),</span>
<span id="cb7-3"><a href="#cb7-3"></a>        <span class="dt">display =</span> <span class="kw"><a href="../reference/display_dist.html">display_dist</a></span>()</span>
<span id="cb7-4"><a href="#cb7-4"></a>        )</span>
<span id="cb7-5"><a href="#cb7-5"></a><span class="co">#&gt; Converting input data to the required matrix format.</span></span>
<span id="cb7-6"><a href="#cb7-6"></a><span class="co">#&gt; Using half_range 0.98</span></span></code></pre></div>
<p><img src="tourr_files/figure-html/unnamed-chunk-7-1.png" width="700"></p>
<p>but there is also a shortcut available</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a><span class="kw"><a href="../reference/display_dist.html">animate_dist</a></span>(f)</span>
<span id="cb8-2"><a href="#cb8-2"></a><span class="co">#&gt; Converting input data to the required matrix format.</span></span>
<span id="cb8-3"><a href="#cb8-3"></a><span class="co">#&gt; Using half_range 0.98</span></span></code></pre></div>
<p><img src="tourr_files/figure-html/unnamed-chunk-8-1.png" width="700"></p>
</div>
<div id="saving-a-tour" class="section level2">
<h2 class="hasAnchor">
<a href="#saving-a-tour" class="anchor"></a>Saving a tour</h2>
<p>After exploring the different options, we may have identified a particularly interesting tour that we may want to save or share.</p>
<p>The first option is to save the animation (or its individual frames). This is possible through the <code>render</code> functions, that save the frame views to png or pdf format. Another option, perhaps more convenient, is to directly save the full animation to a gif file. To use the function, you will need to install the <code>gifski</code> package.</p>
<p>An advanced alternative is to save the tour path, which can later be replayed as a planned tour, and allows us to look at the same tour in different displays. For example we can save a default grand tour path for the flea data and then replay it in a scatterplot display</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a>t1 &lt;-<span class="st"> </span><span class="kw"><a href="../reference/save_history.html">save_history</a></span>(f, <span class="dt">max =</span> <span class="dv">3</span>)</span>
<span id="cb9-2"><a href="#cb9-2"></a><span class="co">#&gt; Converting input data to the required matrix format.</span></span>
<span id="cb9-3"><a href="#cb9-3"></a><span class="kw"><a href="../reference/animate.html">animate</a></span>(f, <span class="kw"><a href="../reference/planned_tour.html">planned_tour</a></span>(t1))</span>
<span id="cb9-4"><a href="#cb9-4"></a><span class="co">#&gt; Converting input data to the required matrix format.</span></span>
<span id="cb9-5"><a href="#cb9-5"></a><span class="co">#&gt; Using half_range 0.98</span></span></code></pre></div>
<p><img src="tourr_files/figure-html/unnamed-chunk-9-1.png" width="700"></p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">

        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#quick-start">Quick start</a></li>
      <li><a href="#tour-types">Tour types</a></li>
      <li><a href="#display-types">Display types</a></li>
      <li><a href="#saving-a-tour">Saving a tour</a></li>
      </ul>
</div>
      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by <a href="http://hadley.nz">Hadley Wickham</a>, Di Cook.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
